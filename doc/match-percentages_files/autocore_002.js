
			// File : /okcontent/js/scriptaculous-1.8.1-for-autocore/scriptaculous.js
			AUTOCORE_SELF_CHECK = "/okcontent/js/scriptaculous-1.8.1-for-autocore/scriptaculous.js";
			
var Scriptaculous={Version:'1.8.1',require:function(libraryName){document.write('<script type="text/javascript" src="'+libraryName+'"><\/script>');},REQUIRED_PROTOTYPE:'1.6.0',load:function(){function convertVersionString(versionString){var r=versionString.split('.');return parseInt(r[0])*100000+parseInt(r[1])*1000+parseInt(r[2]);}}}
Scriptaculous.load();
			AUTOCORE_SELF_CHECK = null;
		
			// File : /okcontent/js/scriptaculous-1.8.1-for-autocore/effects.js
			AUTOCORE_SELF_CHECK = "/okcontent/js/scriptaculous-1.8.1-for-autocore/effects.js";
			
String.prototype.parseColor=function(){var color='#';if(this.slice(0,4)=='rgb('){var cols=this.slice(4,this.length-1).split(',');var i=0;do{color+=parseInt(cols[i]).toColorPart()}while(++i<3);}else{if(this.slice(0,1)=='#'){if(this.length==4)for(var i=1;i<4;i++)color+=(this.charAt(i)+this.charAt(i)).toLowerCase();if(this.length==7)color=this.toLowerCase();}}
return(color.length==7?color:(arguments[0]||this));};Element.collectTextNodes=function(element){return $A($(element).childNodes).collect(function(node){return(node.nodeType==3?node.nodeValue:(node.hasChildNodes()?Element.collectTextNodes(node):''));}).flatten().join('');};Element.collectTextNodesIgnoreClass=function(element,className){return $A($(element).childNodes).collect(function(node){return(node.nodeType==3?node.nodeValue:((node.hasChildNodes()&&!Element.hasClassName(node,className))?Element.collectTextNodesIgnoreClass(node,className):''));}).flatten().join('');};Element.setContentZoom=function(element,percent){element=$(element);element.setStyle({fontSize:(percent/100)+'em'});if(Prototype.Browser.WebKit)window.scrollBy(0,0);return element;};Element.getInlineOpacity=function(element){return $(element).style.opacity||'';};Element.forceRerendering=function(element){try{element=$(element);var n=document.createTextNode(' ');element.appendChild(n);element.removeChild(n);}catch(e){}};var Effect={_elementDoesNotExistError:{name:'ElementDoesNotExistError',message:'The specified DOM element does not exist, but is required for this effect to operate'},Transitions:{linear:Prototype.K,sinoidal:function(pos){return(-Math.cos(pos*Math.PI)/2)+0.5;},reverse:function(pos){return 1-pos;},flicker:function(pos){var pos=((-Math.cos(pos*Math.PI)/4)+0.75)+Math.random()/4;return pos>1?1:pos;},wobble:function(pos){return(-Math.cos(pos*Math.PI*(9*pos))/2)+0.5;},pulse:function(pos,pulses){pulses=pulses||5;return(((pos%(1/pulses))*pulses).round()==0?((pos*pulses*2)-(pos*pulses*2).floor()):1-((pos*pulses*2)-(pos*pulses*2).floor()));},spring:function(pos){return 1-(Math.cos(pos*4.5*Math.PI)*Math.exp(-pos*6));},none:function(pos){return 0;},full:function(pos){return 1;}},DefaultOptions:{duration:1.0,fps:100,sync:false,from:0.0,to:1.0,delay:0.0,queue:'parallel'},tagifyText:function(element){var tagifyStyle='position:relative';if(Prototype.Browser.IE)tagifyStyle+=';zoom:1';element=$(element);$A(element.childNodes).each(function(child){if(child.nodeType==3){child.nodeValue.toArray().each(function(character){element.insertBefore(new Element('span',{style:tagifyStyle}).update(character==' '?String.fromCharCode(160):character),child);});Element.remove(child);}});},multiple:function(element,effect){var elements;if(((typeof element=='object')||Object.isFunction(element))&&(element.length))
elements=element;else
elements=$(element).childNodes;var options=Object.extend({speed:0.1,delay:0.0},arguments[2]||{});var masterDelay=options.delay;$A(elements).each(function(element,index){new effect(element,Object.extend(options,{delay:index*options.speed+masterDelay}));});},PAIRS:{'slide':['SlideDown','SlideUp'],'blind':['BlindDown','BlindUp'],'appear':['Appear','Fade']},toggle:function(element,effect){element=$(element);effect=(effect||'appear').toLowerCase();var options=Object.extend({queue:{position:'end',scope:(element.id||'global'),limit:1}},arguments[2]||{});Effect[element.visible()?Effect.PAIRS[effect][1]:Effect.PAIRS[effect][0]](element,options);}};Effect.DefaultOptions.transition=Effect.Transitions.sinoidal;Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[];this.interval=null;},_each:function(iterator){this.effects._each(iterator);},add:function(effect){var timestamp=new Date().getTime();var position=Object.isString(effect.options.queue)?effect.options.queue:effect.options.queue.position;switch(position){case'front':this.effects.findAll(function(e){return e.state=='idle'}).each(function(e){e.startOn+=effect.finishOn;e.finishOn+=effect.finishOn;});break;case'with-last':timestamp=this.effects.pluck('startOn').max()||timestamp;break;case'end':timestamp=this.effects.pluck('finishOn').max()||timestamp;break;}
effect.startOn+=timestamp;effect.finishOn+=timestamp;if(!effect.options.queue.limit||(this.effects.length<effect.options.queue.limit))
this.effects.push(effect);if(!this.interval)
this.interval=setInterval(this.loop.bind(this),15);},remove:function(effect){this.effects=this.effects.reject(function(e){return e==effect});if(this.effects.length==0){clearInterval(this.interval);this.interval=null;}},loop:function(){var timePos=new Date().getTime();for(var i=0,len=this.effects.length;i<len;i++)
this.effects[i]&&this.effects[i].loop(timePos);}});Effect.Queues={instances:$H(),get:function(queueName){if(!Object.isString(queueName))return queueName;return this.instances.get(queueName)||this.instances.set(queueName,new Effect.ScopedQueue());}};Effect.Queue=Effect.Queues.get('global');Effect.Base=Class.create({position:null,start:function(options){function codeForEvent(options,eventName){return((options[eventName+'Internal']?'this.options.'+eventName+'Internal(this);':'')+
(options[eventName]?'this.options.'+eventName+'(this);':''));}
if(options&&options.transition===false)options.transition=Effect.Transitions.linear;this.options=Object.extend(Object.extend({},Effect.DefaultOptions),options||{});this.currentFrame=0;this.state='idle';this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);this.fromToDelta=this.options.to-this.options.from;this.totalTime=this.finishOn-this.startOn;this.totalFrames=this.options.fps*this.options.duration;eval('this.render = function(pos){ '+'if (this.state=="idle"){this.state="running";'+
codeForEvent(this.options,'beforeSetup')+
(this.setup?'this.setup();':'')+
codeForEvent(this.options,'afterSetup')+'};if (this.state=="running"){'+'pos=this.options.transition(pos)*'+this.fromToDelta+'+'+this.options.from+';'+'this.position=pos;'+
codeForEvent(this.options,'beforeUpdate')+
(this.update?'this.update(pos);':'')+
codeForEvent(this.options,'afterUpdate')+'}}');this.event('beforeStart');if(!this.options.sync)
Effect.Queues.get(Object.isString(this.options.queue)?'global':this.options.queue.scope).add(this);},loop:function(timePos){if(timePos>=this.startOn){if(timePos>=this.finishOn){this.render(1.0);this.cancel();this.event('beforeFinish');if(this.finish)this.finish();this.event('afterFinish');return;}
var pos=(timePos-this.startOn)/this.totalTime,frame=(pos*this.totalFrames).round();if(frame>this.currentFrame){this.render(pos);this.currentFrame=frame;}}},cancel:function(){if(!this.options.sync)
Effect.Queues.get(Object.isString(this.options.queue)?'global':this.options.queue.scope).remove(this);this.state='finished';},event:function(eventName){if(this.options[eventName+'Internal'])this.options[eventName+'Internal'](this);if(this.options[eventName])this.options[eventName](this);},inspect:function(){var data=$H();for(property in this)
if(!Object.isFunction(this[property]))data.set(property,this[property]);return'#<Effect:'+data.inspect()+',options:'+$H(this.options).inspect()+'>';}});Effect.Parallel=Class.create(Effect.Base,{initialize:function(effects){this.effects=effects||[];this.start(arguments[1]);},update:function(position){this.effects.invoke('render',position);},finish:function(position){this.effects.each(function(effect){effect.render(1.0);effect.cancel();effect.event('beforeFinish');if(effect.finish)effect.finish(position);effect.event('afterFinish');});}});Effect.Tween=Class.create(Effect.Base,{initialize:function(object,from,to){object=Object.isString(object)?$(object):object;var args=$A(arguments),method=args.last(),options=args.length==5?args[3]:null;this.method=Object.isFunction(method)?method.bind(object):Object.isFunction(object[method])?object[method].bind(object):function(value){object[method]=value};this.start(Object.extend({from:from,to:to},options||{}));},update:function(position){this.method(position);}});Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}));},update:Prototype.emptyFunction});Effect.Opacity=Class.create(Effect.Base,{initialize:function(element){this.element=$(element);if(!this.element)throw(Effect._elementDoesNotExistError);if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout))
this.element.setStyle({zoom:1});var options=Object.extend({from:this.element.getOpacity()||0.0,to:1.0},arguments[1]||{});this.start(options);},update:function(position){this.element.setOpacity(position);}});Effect.Move=Class.create(Effect.Base,{initialize:function(element){this.element=$(element);if(!this.element)throw(Effect._elementDoesNotExistError);var options=Object.extend({x:0,y:0,mode:'relative'},arguments[1]||{});this.start(options);},setup:function(){this.element.makePositioned();this.originalLeft=parseFloat(this.element.getStyle('left')||'0');this.originalTop=parseFloat(this.element.getStyle('top')||'0');if(this.options.mode=='absolute'){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(position){this.element.setStyle({left:(this.options.x*position+this.originalLeft).round()+'px',top:(this.options.y*position+this.originalTop).round()+'px'});}});Effect.MoveBy=function(element,toTop,toLeft){return new Effect.Move(element,Object.extend({x:toLeft,y:toTop},arguments[3]||{}));};Effect.Scale=Class.create(Effect.Base,{initialize:function(element,percent){this.element=$(element);if(!this.element)throw(Effect._elementDoesNotExistError);var options=Object.extend({scaleX:true,scaleY:true,scaleContent:true,scaleFromCenter:false,scaleMode:'box',scaleFrom:100.0,scaleTo:percent},arguments[2]||{});this.start(options);},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||false;this.elementPositioning=this.element.getStyle('position');this.originalStyle={};['top','left','width','height','fontSize'].each(function(k){this.originalStyle[k]=this.element.style[k];}.bind(this));this.originalTop=this.element.offsetTop;this.originalLeft=this.element.offsetLeft;var fontSize=this.element.getStyle('font-size')||'100%';['em','px','%','pt'].each(function(fontSizeType){if(fontSize.indexOf(fontSizeType)>0){this.fontSize=parseFloat(fontSize);this.fontSizeType=fontSizeType;}}.bind(this));this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;if(this.options.scaleMode=='box')
this.dims=[this.element.offsetHeight,this.element.offsetWidth];if(/^content/.test(this.options.scaleMode))
this.dims=[this.element.scrollHeight,this.element.scrollWidth];if(!this.dims)
this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth];},update:function(position){var currentScale=(this.options.scaleFrom/100.0)+(this.factor*position);if(this.options.scaleContent&&this.fontSize)
this.element.setStyle({fontSize:this.fontSize*currentScale+this.fontSizeType});this.setDimensions(this.dims[0]*currentScale,this.dims[1]*currentScale);},finish:function(position){if(this.restoreAfterFinish)this.element.setStyle(this.originalStyle);},setDimensions:function(height,width){var d={};if(this.options.scaleX)d.width=width.round()+'px';if(this.options.scaleY)d.height=height.round()+'px';if(this.options.scaleFromCenter){var topd=(height-this.dims[0])/2;var leftd=(width-this.dims[1])/2;if(this.elementPositioning=='absolute'){if(this.options.scaleY)d.top=this.originalTop-topd+'px';if(this.options.scaleX)d.left=this.originalLeft-leftd+'px';}else{if(this.options.scaleY)d.top=-topd+'px';if(this.options.scaleX)d.left=-leftd+'px';}}
this.element.setStyle(d);}});Effect.Highlight=Class.create(Effect.Base,{initialize:function(element){this.element=$(element);if(!this.element)throw(Effect._elementDoesNotExistError);var options=Object.extend({startcolor:'#ffff99'},arguments[1]||{});this.start(options);},setup:function(){if(this.element.getStyle('display')=='none'){this.cancel();return;}
this.oldStyle={};if(!this.options.keepBackgroundImage){this.oldStyle.backgroundImage=this.element.getStyle('background-image');this.element.setStyle({backgroundImage:'none'});}
if(!this.options.endcolor)
this.options.endcolor=this.element.getStyle('background-color').parseColor('#ffffff');if(!this.options.restorecolor)
this.options.restorecolor=this.element.getStyle('background-color');this._base=$R(0,2).map(function(i){return parseInt(this.options.startcolor.slice(i*2+1,i*2+3),16)}.bind(this));this._delta=$R(0,2).map(function(i){return parseInt(this.options.endcolor.slice(i*2+1,i*2+3),16)-this._base[i]}.bind(this));},update:function(position){this.element.setStyle({backgroundColor:$R(0,2).inject('#',function(m,v,i){return m+((this._base[i]+(this._delta[i]*position)).round().toColorPart());}.bind(this))});},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}));}});Effect.ScrollTo=function(element){var options=arguments[1]||{},scrollOffsets=document.viewport.getScrollOffsets(),elementOffsets=$(element).cumulativeOffset(),max=(window.height||document.body.scrollHeight)-document.viewport.getHeight();if(options.offset)elementOffsets[1]+=options.offset;return new Effect.Tween(null,scrollOffsets.top,elementOffsets[1]>max?max:elementOffsets[1],options,function(p){scrollTo(scrollOffsets.left,p.round())});};Effect.Fade=function(element){element=$(element);var oldOpacity=element.getInlineOpacity();var options=Object.extend({from:element.getOpacity()||1.0,to:0.0,afterFinishInternal:function(effect){if(effect.options.to!=0)return;effect.element.hide().setStyle({opacity:oldOpacity});}},arguments[1]||{});return new Effect.Opacity(element,options);};Effect.Appear=function(element){element=$(element);var options=Object.extend({from:(element.getStyle('display')=='none'?0.0:element.getOpacity()||0.0),to:1.0,afterFinishInternal:function(effect){effect.element.forceRerendering();},beforeSetup:function(effect){effect.element.setOpacity(effect.options.from).show();}},arguments[1]||{});return new Effect.Opacity(element,options);};Effect.Puff=function(element){element=$(element);var oldStyle={opacity:element.getInlineOpacity(),position:element.getStyle('position'),top:element.style.top,left:element.style.left,width:element.style.width,height:element.style.height};return new Effect.Parallel([new Effect.Scale(element,200,{sync:true,scaleFromCenter:true,scaleContent:true,restoreAfterFinish:true}),new Effect.Opacity(element,{sync:true,to:0.0})],Object.extend({duration:1.0,beforeSetupInternal:function(effect){Position.absolutize(effect.effects[0].element)},afterFinishInternal:function(effect){effect.effects[0].element.hide().setStyle(oldStyle);}},arguments[1]||{}));};Effect.BlindUp=function(element){element=$(element);element.makeClipping();return new Effect.Scale(element,0,Object.extend({scaleContent:false,scaleX:false,restoreAfterFinish:true,afterFinishInternal:function(effect){effect.element.hide().undoClipping();}},arguments[1]||{}));};Effect.BlindDown=function(element){element=$(element);var elementDimensions=element.getDimensions();return new Effect.Scale(element,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:0,scaleMode:{originalHeight:elementDimensions.height,originalWidth:elementDimensions.width},restoreAfterFinish:true,afterSetup:function(effect){effect.element.makeClipping().setStyle({height:'0px'}).show();},afterFinishInternal:function(effect){effect.element.undoClipping();}},arguments[1]||{}));};Effect.SwitchOff=function(element){element=$(element);var oldOpacity=element.getInlineOpacity();return new Effect.Appear(element,Object.extend({duration:0.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(effect){new Effect.Scale(effect.element,1,{duration:0.3,scaleFromCenter:true,scaleX:false,scaleContent:false,restoreAfterFinish:true,beforeSetup:function(effect){effect.element.makePositioned().makeClipping();},afterFinishInternal:function(effect){effect.element.hide().undoClipping().undoPositioned().setStyle({opacity:oldOpacity});}})}},arguments[1]||{}));};Effect.DropOut=function(element){element=$(element);var oldStyle={top:element.getStyle('top'),left:element.getStyle('left'),opacity:element.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(element,{x:0,y:100,sync:true}),new Effect.Opacity(element,{sync:true,to:0.0})],Object.extend({duration:0.5,beforeSetup:function(effect){effect.effects[0].element.makePositioned();},afterFinishInternal:function(effect){effect.effects[0].element.hide().undoPositioned().setStyle(oldStyle);}},arguments[1]||{}));};Effect.Shake=function(element){element=$(element);var options=Object.extend({distance:20,duration:0.5},arguments[1]||{});var distance=parseFloat(options.distance);var split=parseFloat(options.duration)/10.0;var oldStyle={top:element.getStyle('top'),left:element.getStyle('left')};return new Effect.Move(element,{x:distance,y:0,duration:split,afterFinishInternal:function(effect){new Effect.Move(effect.element,{x:-distance*2,y:0,duration:split*2,afterFinishInternal:function(effect){new Effect.Move(effect.element,{x:distance*2,y:0,duration:split*2,afterFinishInternal:function(effect){new Effect.Move(effect.element,{x:-distance*2,y:0,duration:split*2,afterFinishInternal:function(effect){new Effect.Move(effect.element,{x:distance*2,y:0,duration:split*2,afterFinishInternal:function(effect){new Effect.Move(effect.element,{x:-distance,y:0,duration:split,afterFinishInternal:function(effect){effect.element.undoPositioned().setStyle(oldStyle);}})}})}})}})}})}});};Effect.SlideDown=function(element){element=$(element).cleanWhitespace();var oldInnerBottom=element.down().getStyle('bottom');var elementDimensions=element.getDimensions();return new Effect.Scale(element,100,Object.extend({scaleContent:false,scaleX:false,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:elementDimensions.height,originalWidth:elementDimensions.width},restoreAfterFinish:true,afterSetup:function(effect){effect.element.makePositioned();effect.element.down().makePositioned();if(window.opera)effect.element.setStyle({top:''});effect.element.makeClipping().setStyle({height:'0px'}).show();},afterUpdateInternal:function(effect){effect.element.down().setStyle({bottom:(effect.dims[0]-effect.element.clientHeight)+'px'});},afterFinishInternal:function(effect){effect.element.undoClipping().undoPositioned();effect.element.down().undoPositioned().setStyle({bottom:oldInnerBottom});}},arguments[1]||{}));};Effect.SlideUp=function(element){element=$(element).cleanWhitespace();var oldInnerBottom=element.down().getStyle('bottom');var elementDimensions=element.getDimensions();return new Effect.Scale(element,window.opera?0:1,Object.extend({scaleContent:false,scaleX:false,scaleMode:'box',scaleFrom:100,scaleMode:{originalHeight:elementDimensions.height,originalWidth:elementDimensions.width},restoreAfterFinish:true,afterSetup:function(effect){effect.element.makePositioned();effect.element.down().makePositioned();if(window.opera)effect.element.setStyle({top:''});effect.element.makeClipping().show();},afterUpdateInternal:function(effect){effect.element.down().setStyle({bottom:(effect.dims[0]-effect.element.clientHeight)+'px'});},afterFinishInternal:function(effect){effect.element.hide().undoClipping().undoPositioned();effect.element.down().undoPositioned().setStyle({bottom:oldInnerBottom});}},arguments[1]||{}));};Effect.Squish=function(element){return new Effect.Scale(element,window.opera?1:0,{restoreAfterFinish:true,beforeSetup:function(effect){effect.element.makeClipping();},afterFinishInternal:function(effect){effect.element.hide().undoClipping();}});};Effect.Grow=function(element){element=$(element);var options=Object.extend({direction:'center',moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{});var oldStyle={top:element.style.top,left:element.style.left,height:element.style.height,width:element.style.width,opacity:element.getInlineOpacity()};var dims=element.getDimensions();var initialMoveX,initialMoveY;var moveX,moveY;switch(options.direction){case'top-left':initialMoveX=initialMoveY=moveX=moveY=0;break;case'top-right':initialMoveX=dims.width;initialMoveY=moveY=0;moveX=-dims.width;break;case'bottom-left':initialMoveX=moveX=0;initialMoveY=dims.height;moveY=-dims.height;break;case'bottom-right':initialMoveX=dims.width;initialMoveY=dims.height;moveX=-dims.width;moveY=-dims.height;break;case'center':initialMoveX=dims.width/2;initialMoveY=dims.height/2;moveX=-dims.width/2;moveY=-dims.height/2;break;}
return new Effect.Move(element,{x:initialMoveX,y:initialMoveY,duration:0.01,beforeSetup:function(effect){effect.element.hide().makeClipping().makePositioned();},afterFinishInternal:function(effect){new Effect.Parallel([new Effect.Opacity(effect.element,{sync:true,to:1.0,from:0.0,transition:options.opacityTransition}),new Effect.Move(effect.element,{x:moveX,y:moveY,sync:true,transition:options.moveTransition}),new Effect.Scale(effect.element,100,{scaleMode:{originalHeight:dims.height,originalWidth:dims.width},sync:true,scaleFrom:window.opera?1:0,transition:options.scaleTransition,restoreAfterFinish:true})],Object.extend({beforeSetup:function(effect){effect.effects[0].element.setStyle({height:'0px'}).show();},afterFinishInternal:function(effect){effect.effects[0].element.undoClipping().undoPositioned().setStyle(oldStyle);}},options))}});};Effect.Shrink=function(element){element=$(element);var options=Object.extend({direction:'center',moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{});var oldStyle={top:element.style.top,left:element.style.left,height:element.style.height,width:element.style.width,opacity:element.getInlineOpacity()};var dims=element.getDimensions();var moveX,moveY;switch(options.direction){case'top-left':moveX=moveY=0;break;case'top-right':moveX=dims.width;moveY=0;break;case'bottom-left':moveX=0;moveY=dims.height;break;case'bottom-right':moveX=dims.width;moveY=dims.height;break;case'center':moveX=dims.width/2;moveY=dims.height/2;break;}
return new Effect.Parallel([new Effect.Opacity(element,{sync:true,to:0.0,from:1.0,transition:options.opacityTransition}),new Effect.Scale(element,window.opera?1:0,{sync:true,transition:options.scaleTransition,restoreAfterFinish:true}),new Effect.Move(element,{x:moveX,y:moveY,sync:true,transition:options.moveTransition})],Object.extend({beforeStartInternal:function(effect){effect.effects[0].element.makePositioned().makeClipping();},afterFinishInternal:function(effect){effect.effects[0].element.hide().undoClipping().undoPositioned().setStyle(oldStyle);}},options));};Effect.Pulsate=function(element){element=$(element);var options=arguments[1]||{};var oldOpacity=element.getInlineOpacity();var transition=options.transition||Effect.Transitions.sinoidal;var reverser=function(pos){return transition(1-Effect.Transitions.pulse(pos,options.pulses))};reverser.bind(transition);return new Effect.Opacity(element,Object.extend(Object.extend({duration:2.0,from:0,afterFinishInternal:function(effect){effect.element.setStyle({opacity:oldOpacity});}},options),{transition:reverser}));};Effect.Fold=function(element){element=$(element);var oldStyle={top:element.style.top,left:element.style.left,width:element.style.width,height:element.style.height};element.makeClipping();return new Effect.Scale(element,5,Object.extend({scaleContent:false,scaleX:false,afterFinishInternal:function(effect){new Effect.Scale(element,1,{scaleContent:false,scaleY:false,afterFinishInternal:function(effect){effect.element.hide().undoClipping().setStyle(oldStyle);}});}},arguments[1]||{}));};Effect.Morph=Class.create(Effect.Base,{initialize:function(element){this.element=$(element);if(!this.element)throw(Effect._elementDoesNotExistError);var options=Object.extend({style:{}},arguments[1]||{});if(!Object.isString(options.style))this.style=$H(options.style);else{if(options.style.include(':'))
this.style=options.style.parseStyle();else{this.element.addClassName(options.style);this.style=$H(this.element.getStyles());this.element.removeClassName(options.style);var css=this.element.getStyles();this.style=this.style.reject(function(style){return style.value==css[style.key];});options.afterFinishInternal=function(effect){effect.element.addClassName(effect.options.style);effect.transforms.each(function(transform){effect.element.style[transform.style]='';});}}}
this.start(options);},setup:function(){function parseColor(color){if(!color||['rgba(0, 0, 0, 0)','transparent'].include(color))color='#ffffff';color=color.parseColor();return $R(0,2).map(function(i){return parseInt(color.slice(i*2+1,i*2+3),16)});}
this.transforms=this.style.map(function(pair){var property=pair[0],value=pair[1],unit=null;if(value.parseColor('#zzzzzz')!='#zzzzzz'){value=value.parseColor();unit='color';}else if(property=='opacity'){value=parseFloat(value);if(Prototype.Browser.IE&&(!this.element.currentStyle.hasLayout))
this.element.setStyle({zoom:1});}else if(Element.CSS_LENGTH.test(value)){var components=value.match(/^([\+\-]?[0-9\.]+)(.*)$/);value=parseFloat(components[1]);unit=(components.length==3)?components[2]:null;}
var originalValue=this.element.getStyle(property);return{style:property.camelize(),originalValue:unit=='color'?parseColor(originalValue):parseFloat(originalValue||0),targetValue:unit=='color'?parseColor(value):value,unit:unit};}.bind(this)).reject(function(transform){return((transform.originalValue==transform.targetValue)||(transform.unit!='color'&&(isNaN(transform.originalValue)||isNaN(transform.targetValue))))});},update:function(position){var style={},transform,i=this.transforms.length;while(i--)
style[(transform=this.transforms[i]).style]=transform.unit=='color'?'#'+
(Math.round(transform.originalValue[0]+
(transform.targetValue[0]-transform.originalValue[0])*position)).toColorPart()+
(Math.round(transform.originalValue[1]+
(transform.targetValue[1]-transform.originalValue[1])*position)).toColorPart()+
(Math.round(transform.originalValue[2]+
(transform.targetValue[2]-transform.originalValue[2])*position)).toColorPart():(transform.originalValue+
(transform.targetValue-transform.originalValue)*position).toFixed(3)+
(transform.unit===null?'':transform.unit);this.element.setStyle(style,true);}});Effect.Transform=Class.create({initialize:function(tracks){this.tracks=[];this.options=arguments[1]||{};this.addTracks(tracks);},addTracks:function(tracks){tracks.each(function(track){track=$H(track);var data=track.values().first();this.tracks.push($H({ids:track.keys().first(),effect:Effect.Morph,options:{style:data}}));}.bind(this));return this;},play:function(){return new Effect.Parallel(this.tracks.map(function(track){var ids=track.get('ids'),effect=track.get('effect'),options=track.get('options');var elements=[$(ids)||$$(ids)].flatten();return elements.map(function(e){return new effect(e,Object.extend({sync:true},options))});}).flatten(),this.options);}});Element.CSS_PROPERTIES=$w('backgroundColor backgroundPosition borderBottomColor borderBottomStyle '+'borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth '+'borderRightColor borderRightStyle borderRightWidth borderSpacing '+'borderTopColor borderTopStyle borderTopWidth bottom clip color '+'fontSize fontWeight height left letterSpacing lineHeight '+'marginBottom marginLeft marginRight marginTop markerOffset maxHeight '+'maxWidth minHeight minWidth opacity outlineColor outlineOffset '+'outlineWidth paddingBottom paddingLeft paddingRight paddingTop '+'right textIndent top width wordSpacing zIndex');Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/;String.__parseStyleElement=document.createElement('div');String.prototype.parseStyle=function(){var style,styleRules=$H();if(Prototype.Browser.WebKit)
style=new Element('div',{style:this}).style;else{String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>';style=String.__parseStyleElement.childNodes[0].style;}
Element.CSS_PROPERTIES.each(function(property){if(style[property])styleRules.set(property,style[property]);});if(Prototype.Browser.IE&&this.include('opacity'))
styleRules.set('opacity',this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]);return styleRules;};if(document.defaultView&&document.defaultView.getComputedStyle){Element.getStyles=function(element){var css=document.defaultView.getComputedStyle($(element),null);return Element.CSS_PROPERTIES.inject({},function(styles,property){styles[property]=css[property];return styles;});};}else{Element.getStyles=function(element){element=$(element);var css=element.currentStyle,styles;styles=Element.CSS_PROPERTIES.inject({},function(results,property){results[property]=css[property];return results;});if(!styles.opacity)styles.opacity=element.getOpacity();return styles;};};Effect.Methods={morph:function(element,style){element=$(element);new Effect.Morph(element,Object.extend({style:style},arguments[2]||{}));return element;},visualEffect:function(element,effect,options){element=$(element)
var s=effect.dasherize().camelize(),klass=s.charAt(0).toUpperCase()+s.substring(1);new Effect[klass](element,options);return element;},highlight:function(element,options){element=$(element);new Effect.Highlight(element,options);return element;}};$w('fade appear grow shrink fold blindUp blindDown slideUp slideDown '+'pulsate shake puff squish switchOff dropOut').each(function(effect){Effect.Methods[effect]=function(element,options){element=$(element);Effect[effect.charAt(0).toUpperCase()+effect.substring(1)](element,options);return element;}});$w('getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles').each(function(f){Effect.Methods[f]=Element[f];});Element.addMethods(Effect.Methods);
			AUTOCORE_SELF_CHECK = null;
		
			// File : /okcontent/js/Oryx/MatchCall.js
			AUTOCORE_SELF_CHECK = "/okcontent/js/Oryx/MatchCall.js";
			
var MatchCall=Class.create({initialize:function(args){this.args=args;this.makecall();},lookupSortString:function(name)
{if(name=="match")
return 0;if(name=="enemy")
return 1;if(name=="random")
return 2;if(name=="friend")
return 3;if(name=="login")
return 4;if(name=="join")
return 6;if(name=="distance")
return 7;if(name=="looks")
return 8;if(name=="personality")
return 9;if(name=="first_contact")
return 10;if(name=="completeness")
return 11;if(name=="rmatch")
return 12;$log("unknown sort specified "+name,"error");return-1;},lookupFilterString:function(name)
{if(name=="gentation")
return 0;if(name=="require_photo")
return 1;if(name=="age")
return 2;if(name=="radius")
return 3;if(name=="last_login")
return 5;if(name=="join_date")
return 6;if(name=="eligible")
return 7;if(name=="religion")
return 8;if(name=="ethnicity")
return 9;if(name=="height")
return 10;if(name=="smoking")
return 11;if(name=="drinking")
return 12;if(name=="drugs")
return 13;if(name=="money")
return 14;if(name=="jobtype")
return 15;if(name=="dogs")
return 16;if(name=="cats")
return 17;if(name=="children")
return 18;if(name=="education")
return 19;if(name=="personality")
return 20;if(name=="sign")
return 21;if(name=="languages")
return 22;if(name=="v_looks")
return 23;if(name=="v_personality")
return 25;if(name=="v_first_contact")
return 27;if(name=="completeness")
return 29;$log("unknown filter "+name,"error");return-1;},createParamString:function(obj)
{var cgi_param_str="ajax=1&cacheBust="+Math.round(Math.random()*1000000000000);if(obj.count)
{cgi_param_str+="&count="+obj.count;}
if(obj.locid)
{cgi_param_str+="&locid="+obj.locid;}
if(obj.low)
{cgi_param_str+="&low="+obj.low;}
if(obj.templateStyle)
{cgi_param_str+="&template_style="+obj.templateStyle;}
if(obj.discard_prefs)
{cgi_param_str+="&discard_prefs="+obj.discard_prefs;}
else
{cgi_param_str+="&discard_prefs=1";}
if(obj.use_prefs)
{cgi_param_str+="&use_prefs="+obj.use_prefs;}
else
{cgi_param_str+="&use_prefs=0";}
if(obj.filtersOverride&&obj.filtersOverride.length){cgi_param_str+=obj.filtersOverride;}else if(obj.filters){for(var i=0;i<obj.filters.length;i++)
{if(!obj.filters[i].name)
{$log("Missing filter name!","error");continue;}
if(obj.filters[i].values.length==0||obj.filters[i].values.length>2)
{$log("too many, or two few, values for filter","error");continue;}
var filterNo=this.lookupFilterString(obj.filters[i].name);var part1=","+obj.filters[i].values[0];var part2="";if(obj.filters[i].values.length==2)
{part2+=","+obj.filters[i].values[1];}
cgi_param_str+="&filter"+(i+1)+"="+filterNo+part1+part2;}}
if(obj.sorts)
{for(var i=0;i<obj.sorts.length;i++)
{if(!obj.sorts[i].name)
{$log("Missing sort name!","error");continue;}
if(!obj.sorts[i].weight||obj.sorts[i].weight<0||obj.sorts[i].weight>10000)
{$log("sort missing weight, or invalid weight!","error");continue;}
var sortNo=this.lookupSortString(obj.sorts[i].name);cgi_param_str+="&sort"+(i+1)+"="+sortNo+","+obj.sorts[i].weight;if(obj.sorts[i].reverse)
{cgi_param_str+=",1";}}}
return cgi_param_str;},makecall:function(){var params=this.createParamString(this.args);var success_function=this.doNothing;if(this.args.onSuccess)
{success_function=this.args.onSuccess;}
else if(this.args.destination)
{if(!this.args.templateStyle)
{$log("destination specified, but templateStyle not - will be injecting raw JSON...","error");}
var pass=this;success_function=function(resp){pass.setHTMLHelper(resp);};}
new Ajax.Request('/match',{method:'POST',parameters:params,onSuccess:success_function});},setHTMLHelper:function(resp)
{if(this.args.overwrite)
$(this.args.destination).innerHTML=resp.transport.responseText;else
$(this.args.destination).innerHTML+=resp.transport.responseText;resp="";},doNothing:function(whatever){}});
			AUTOCORE_SELF_CHECK = null;
		
			// File : /okcontent/js/service/signup.js
			AUTOCORE_SELF_CHECK = "/okcontent/js/service/signup.js";
			
var blur1=false;var blur2=false;var correct=false;var Signup={submitButtonToggle:function(state){var inputs=$("signup_form").getInputs();var hasErrors=false;if(state=="on"){inputs.each(function(pair){if(pair.hasClassName('input_error')){hasErrors=true;}});if($("birthday_message")){if($("birthday_message").hasClassName('validation_error')==true){hasErrors=true;}}
if(hasErrors==false){$("submit_button").removeClassName('gray');if($("submit_button").hasAttribute("disabled")){$("submit_button").removeAttribute("disabled");}}}else if(state=="off"){$("submit_button").addClassName('gray');$("submit_button").setAttribute('disabled','disabled');}},inputError:function(input1,input2,action,className){if(input1||input2){if(action=='hide'){$(input1).removeClassName(className);$(input2).removeClassName(className);}else{$(input1).addClassName(className);$(input2).addClassName(className);}}},issueMessage:function(id,action,message,type){if(!$(id))return false;if(action=='hide'){$(id).hide();}else{$(id).show();$(id).innerHTML=message;$(id).removeClassName('validation_info').removeClassName('validation_error');if(type=='error'){$(id).addClassName('validation_error');}else{$(id).addClassName('validation_info');}}},buttonVisualChange:function(state){if(state=="on"){$("continue_button").removeClassName('gray');}else{$("continue_button").addClassName('gray');}},validateBirthday:function(force){var date=$('birthday').value;var month=$('birthmonth').value;var year=$('birthyear').value;var hassookie=NanoCookie.get('birthday_block');if(force==true){$("birthday_message").removeClassName('validation_error');this.submitButtonToggle('on');this.issueMessage('birthday_message','hide');$('birthmonth').up().removeClassName('error');$('birthday').up().removeClassName('error');$('birthyear').up().removeClassName('error');return true;}
if(date=='-'||month=='-'||year=='-'){this.issueMessage('birthday_message','show','<span class="tip"></span> Enter your birthday to continue!','error');$('birthmonth').up().addClassName('error');$('birthday').up().addClassName('error');$('birthyear').up().addClassName('error');this.submitButtonToggle('off');return false;}
var now=new Date();var cutoff=new Date();cutoff.setFullYear(now.getFullYear()-18);var nextmidnight=new Date(now.getTime()+86400*1000);nextmidnight.setHours(0);nextmidnight.setMinutes(0);nextmidnight.setSeconds(0);nextmidnight=nextmidnight.getTime();var msuntilmidnight=nextmidnight-now.getTime();var birthday=new Date(year,month-1,date);if(this.underage||hassookie||birthday.getTime()>cutoff.getTime()){this.issueMessage('birthday_message','show','<span class="tip"></span> Sorry, you must be 18 or older<br/> to use OkCupid.','error');$('birthmonth').up().addClassName('error');$('birthday').up().addClassName('error');$('birthyear').up().addClassName('error');this.submitButtonToggle('off');if(birthday.getTime()>cutoff.getTime()){util.updateStats('signup - set under 18 blocking cookie',1,'counter','MyLMTG90CUfaIHapb1jmHzd674g=');NanoCookie.set('birthday_block','true',{ms:msuntilmidnight});}
this.underage=true;this.submitButtonToggle('off');return false;}
$("birthday_message").removeClassName('validation_error');$('birthmonth').up().removeClassName('error');$('birthday').up().removeClassName('error');$('birthyear').up().removeClassName('error');this.submitButtonToggle('on');this.issueMessage('birthday_message','hide');return true;},validateEmails:function(force,input){var tab_o_matic=false;var foo=$F('email1');var email1=$F('email1').toLowerCase().replace(/^\s+|\s+$/g,"");var email2=$F('email2').toLowerCase().replace(/^\s+|\s+$/g,"");var email1_b=encodeURIComponent($F('email1').toLowerCase().replace(/^\s+|\s+$/g,""));var email2_b=encodeURIComponent($F('email2').toLowerCase().replace(/^\s+|\s+$/g,""));if(input==1){blur1=true;}
if(input==2){blur2=true;}
if(force==true&&email1.length==0&&email2.length==0){this.issueMessage('email_message','show','<span class="tip"></span>Email cannot be left empty.','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(blur1==true&&this.rejexEmailChecker(email1)==false&&email1!=""){this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(blur1==true&&this.rejexEmailChecker(email1)==false&&email1==""&&email2==""){this.issueMessage('email_message','show','<span class="tip"></span>Email cannot be left empty.','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(force=="key up"){if(email1!=email2&&email1==""){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(email1==email2&&this.rejexEmailChecker(email1)==true&&this.rejexEmailChecker(email2)==true){blur2=true;correct=true;this.issueMessage('email_message','show','<span class="tip"></span>Hooray!','success');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');return true;}else if(email1==""&&email2!=""&&correct==true){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(blur1==true&&blur2==false){if(this.rejexEmailChecker(email1)==false){this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else{this.issueMessage('email_message','hide');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');}}else if(correct==true&&email1!=email2){if(this.rejexEmailChecker(email1)==false){this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else{this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}}}else if(force=="email2 key up"){if(this.rejexEmailChecker(email1)==true&&email1_b.match("^"+email2_b)&&email1!=email2&&blur2!=true&&correct==false){this.issueMessage('email_message','hide');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');}else if(email1==email2&&this.rejexEmailChecker(email1)==true&&this.rejexEmailChecker(email2)==true&&email1.length!=0&&email2.length!=0){blur2=true;correct=true;this.issueMessage('email_message','show','<span class="tip"></span>Hooray!','success');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');return true;}
else{this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}}else if(blur1==true&&blur2==false){if(email1.length==0){this.issueMessage('email_message','show','<span class="tip"></span>Email cannot be left empty.','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}else if(this.rejexEmailChecker(email1)==false){this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else{this.issueMessage('email_message','hide');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');}}else if(email1.length>email2.length&&this.rejexEmailChecker(email1)==true&&blur2==false){if(email1.match("^"+email2)&&blur2!=true){}else{this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}}else if(email2.length!=0&&email1.length==0||email2.length>email1.length){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else if(this.rejexEmailChecker(email1)==false&&email1.length!=0){this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else if(this.rejexEmailChecker(email1)==true&&email2.length==0&&blur2==true){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don\'t match.','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}else if(force==true||email1.length&&email2.length){if(email1!=email2){if(email1!=email2&&force==true){if(email2!=""){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}}else if(email1.length<email2.length){this.issueMessage('email_message','show','<span class="tip"></span>Your email addresses don&rsquo;t match!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');return false;}}else if($F('email1').length==0||$F('email2').length==0){this.submitButtonToggle('on');}else if(email1==email2){if(this.rejexEmailChecker(email1)&&this.rejexEmailChecker(email2)){blur2=true;correct=true;this.issueMessage('email_message','show','<span class="tip"></span>Hooray!','success');this.inputError('email1','email2','hide','input_error');this.submitButtonToggle('on');return true;}else{this.issueMessage('email_message','show','<span class="tip"></span>Please enter a valid email!','error');this.inputError('email1','email2','show','input_error');this.submitButtonToggle('off');}}else{this.submitButtonToggle('on');}}else if($('email1').hasClassName('input_error')&&this.rejexEmailChecker(email1)==true){if(this.rejexEmailChecker(email2)==true||email2==0){this.submitButtonToggle('on');}}},rejexEmailChecker:function(elementValue){elementValue=elementValue.replace(/\+/g,"");var emailPattern=/^[A-Za-z0-9-_.+%]+@[A-Za-z0-9-.]+\.[A-Za-z]{2,4}$/;return emailPattern.test(elementValue);},handleOrientation:function(){if($F('orientation')>1&&$('gayprivacycheckbox')){$('gayprivacycheckbox').show();}else if($('gayprivacycheckbox')){$('gayprivacycheckbox').hide();}
if($F('orientation')==2&&$('gay_header')){$('gay_header').show();}else if($('gay_header')){$('gay_header').hide();}
if($('inga_image')&&$('julian_image')){if($F('gender')==1&&$F('orientation')==2&&$('inga_image').visible()){this.animateSpokesperson('julian');}else if(($F('gender')!=1||$F('orientation')!=2)&&$('julian_image').visible()){this.animateSpokesperson('inga');}}},animateSpokesperson:function(endclass){endclass=(endclass=='julian')?'julian':'inga';var startclass=(endclass=='julian')?'inga':'julian';$(startclass+'_image').fade({duration:0.3,afterFinish:function(){$(endclass+'_image').appear({duration:0.3});}});},zipOnSubmit:function(){check_zip_input(true);if($("zip_or_city").hasClassName('input_error')){return false;}else{return true;}},checkPassword:function(force){var input=$("signup-password-input");var input_value=input.value;var bubble=$("okc_real_pass_error");var bubble_message=$("okc_real_pass_error_body");var pass_length=input.value.length;bubble.addClassName('validation_error');if(input_value.match(/\s/)){input.addClassName('input_error');bubble.removeClassName('validation_info');bubble.removeClassName('hidden');bubble_message.innerHTML="Password cannot contain spaces.";Signup.submitButtonToggle('off');pass_change=true;}else if(pass_length<5&&pass_length!=0){if(force==true){input.addClassName('input_error');bubble.removeClassName('hidden');bubble.removeClassName('validation_info');bubble_message.innerHTML="Password must be at least 5 characters.";Signup.submitButtonToggle('off');}else if(pass_change==true){input.addClassName('input_error');bubble.removeClassName('hidden');bubble.removeClassName('validation_info');bubble_message.innerHTML="Password must be at least 5 characters.";Signup.submitButtonToggle('off');}}else if(pass_length==0&&pass_change==true||pass_length==0&&force==true){input.addClassName('input_error');bubble.removeClassName('hidden');bubble.removeClassName('validation_info');bubble_message.innerHTML="Password cannot be left empty.";Signup.submitButtonToggle('off');}else if(pass_length==0){}else{pass_change=true;var pw=$F("signup-password-input");clearTimeout(this.password_check_timeout);this.password_check_timeout=setTimeout(this.checkPasswordStrength.bind(this,pw),500);}},checkPasswordStrength:function(passwd){var badPassAjax=new Ajax.Request("/pswdcheck_ajax.html",{method:'post',parameters:"password="+passwd,onSuccess:this.checkPasswordStrength_cb.bindAsEventListener(this,passwd),onFailure:function(){}});},checkPasswordStrength_cb:function(data,passwd){pass_change=true;if(passwd!=$F('signup-password-input')){return;}
var evaled=eval(data.responseText);var input=$("signup-password-input");var bubble=$("okc_real_pass_error");var bubble_message=$("okc_real_pass_error_body");var pass_length=$F('signup-password-input').length;this.password_check_animation_status=0;if(evaled==true){input.addClassName('input_error');bubble.removeClassName('hidden');bubble.addClassName('validation_error');bubble.removeClassName('validation_info');bubble_message.innerHTML="Password is too weak. Choose wisely.";Signup.submitButtonToggle('off');}
if(evaled==false&&pass_length>=5&&pass_length!=0){input.removeClassName('input_error');bubble.removeClassName('hidden');bubble.addClassName('validation_info');if(pass_length>=13){bubble_message.innerHTML="It's so big!";}else if(pass_length>=9){bubble_message.innerHTML="Best. Password. Ever.";}else if(pass_length>=7){bubble_message.innerHTML="No one's guessing this one!";}else if(pass_length>=5){bubble_message.innerHTML="That'll do.";}
Signup.submitButtonToggle('on');return true;}},passwordOnSubmit:function(){this.checkPassword(true);if($("signup-password-input").hasClassName('input_error')){return false;}else{return true;}},usernameOnSubmit:function(){maybeSubmitScreenName(true);if($("signup-screenname-input").hasClassName('input_error')){return false;}else{return true;}}}
var pass_change=false;var emailErrors=false;var flipper=0;function couple(pos,gentation){$('users').innerHTML+='<div id="users_'+pos+'" class="couple"></div>';switch(gentation){case 1:var g=34;break;case 2:var g=17;break;case 3:var g=20;break;case 4:var g=40;break;case 5:var g=(++flipper%2==1?34:17);break;}
var users=new MatchCall({filters:[{name:"age",values:[18,25]},{name:"require_photo",values:[1]},{name:"gentation",values:[g]}],sorts:[{name:"personality",weight:10},{name:"random",weight:5}],count:1,onSuccess:function(transport){var user=transport.responseText.evalJSON().match_list[0];var res=''
+'<div class="user">'
+'<img src="http://akcdn.okccdn.com/php/load_okc_image.php/images/160x160/160x160/'+user.thumbnail_filepath+'" alt="An image of '+user.username+'" title="OkCupid user '+user.username+'" width="160" height="160"/>'
+'<p>'+user.age+' / <span>'+(user.gender=='f'?'female':'male')+'</span></p>'
+'</div>'
$('users_'+pos).update(res);}});}
function acquisitions(gentation){if($('users')){var g=gentation||5;$('users').update();var single_pos=Math.floor(Math.random()*5);for(var i=0;i<5;++i){couple(i,g);}}}
function displayUsers(g,filtersOverride){g=g||5;filtersOverride=filtersOverride||"";switch(g){case 1:var gentation=34;break;case 2:var gentation=17;break;case 3:var gentation=20;break;case 4:var gentation=40;break;case 5:var gentation=63;break;}
new MatchCall({filters:[{name:"require_photo",values:[1]},{name:"gentation",values:[gentation]}],filtersOverride:filtersOverride,sorts:[{name:"personality",weight:5},{name:"random",weight:10},{name:"login",weight:5}],count:16,onSuccess:function(transport){var users=transport.responseText.evalJSON().match_list,res='';getUserLocation(users);for(var i=0;i<users.length;i++){res+='<div class="user">'
+'<img src="http://akcdn.okccdn.com/php/load_okc_image.php/images/90x90/90x90/'+users[i].thumbnail_filepath+'" alt="An image of '+users[i].username+'" title="OkCupid user '+users[i].username+'" width="90" height="90"/>'
+'</div>'}
$('users').update(res);}});}
function getUserLocation(users){var locations={};for(var i=0;i<users.length;i++){if(!locations[users[i].location])
locations[users[i].location]=1;else
locations[users[i].location]+=1;}
var max_count=0,max_location='';for(var location in locations){if(locations[location]>max_count){max_count=locations[location];max_location=location;}}
$('user_location').update(max_location);this.m_user_location=max_location;}
function handleResult(response,_stop,_submit){if(!_stop)data=eval('('+response.responseText+')');else data=response;if(!_submit){if(data.reason==1)data.reason="0";if(data.reason==5)data.reason="0";}
error=false;$("taken_load").style.display="none";$("error_load").style.display="none";if(data.valid==false){switch(data.reason)
{case"0":error=false;break;case"1":error="That screenname is too short.";break;case"2":error="Can't have spaces in your screenname.  Sorry.";break;case"3":error="Hey!  No funny symbol stuff.";break;case"4":error="That screenname's too long.  You shouldn't even be able to submit that.  Fishy.";break;case"5":error="Please enter a screenname.";break;default:error="Hmmm.  Something's funny about that screenname... not sure what.";break;}
if(error){$("error_load").style.display="block";$("error_load").innerHTML=error;}
if($("affirmation"))$("affirmation").value=0;return;}
if(data.available==false){if(data.recommendations.length>0){message="Ooo, that name's taken.  Try one of these: "+data.recommendations.join(", ");}
else{message="Ooo, that name's taken. Try something else.";}
$("taken_load").style.display="block";$("taken_load").innerHTML=message;if($("affirmation"))$("affirmation").value=0;return;}
if(_submit){$('signup_form').submit();}else{if($("affirmation"))$("affirmation").value=1;}}
function handleWithSubmit(response){handleResult(response,false,true);}
function check_screenname(screenname,_submit){var success=(_submit?handleWithSubmit:handleResult);var params="check_screenname="+screenname+"&num=5&template=signup"+"&rnd="+Math.round(Math.random()*1000000000);if(screenname=="")handleResult({valid:false,reason:"5"},true);if(screenname.length>16)handleResult({valid:false,reason:"4"},true);var req=new Ajax.Request("/signup",{method:'post',parameters:params,onSuccess:success,onFailure:function(){}});}
function checkLocation(zip_or_city_blur){loc='';if($F('country_select')=='United States'){if($('location_label').innerHTML!='Zip code'){$('zip_or_city').value="";$('zip_or_city').removeClassName('input_error');Signup.submitButtonToggle('on');$('lquery-notice').innerHTML="";$('zip_or_city').setAttribute("maxLength","5");$('location_label').innerHTML='Zip code';}
if($F('zip_or_city')!=""&&!$F('zip_or_city').match(/^\d{5}$/)){location_reset();return false;}else if($F('zip_or_city')==""){location_reset();return true;}
else{loc=$F('zip_or_city');}}
else{if($('location_label').innerHTML!='City'){$('location_label').innerHTML='City';$('zip_or_city').value="";$('zip_or_city').removeClassName('input_error');Signup.submitButtonToggle('on');$('lquery-notice').innerHTML="";$('zip_or_city').setAttribute("maxLength","50");}
if($F('zip_or_city').match(/^\d{5}$/)||zip_or_city_blur&&zip_or_city_blur==2){location_reset();}
else{loc=$F('zip_or_city')+', '+$F('country_select');}}
if($('city-input').select('input').length>0){inputcheck=$("city-input").getElementsByTagName("input")[0];inputcheck.value=loc;}
if(zip_or_city_blur&&zip_or_city_blur==1){LocationExperience.performLookup();}}
function populateLQuery(queryValue){$('lquery').value=queryValue;}
var SignupV1=Class.create({init:function(){this.form_inserted=0;},insertLoginForm:function(){var login_form='<div id="login" style="display:none;">'
+'<div id="debounce" class="clearfix"> '
+'<div class="group" id="user_name_group">'
+'<p class="label"><label for="login_user_name">User Name</label></p>'
+'<p><input type="text" id="login_user_name" /></p>'
+'</div>'
+'<div class="group" id="password_group">'
+'<p class="label"><label for="login_password">Password</label></p>'
+'<p><input type="password" id="login_password" /></p>'
+'</div>'
+'<p class="button blue"><a href="#login" onclick="SV1.login();">Login</a></p>'
+'<p class="cancel"><a href="#cancel" onclick="SV1.toggleLogin();">Cancel</a></p>'
+'<div id="login_butt"></div>'
+'</div>'
+'</div>';$('header').insert(login_form);this.form_inserted=1;},toggleLogin:function(){if(!this.form_inserted)
this.insertLoginForm();var ie=0
if(ie){if(ie<5.7)window.location='/login';else{if($('login').visible())$('login').hide();else $('login').show();}}
else{if($('login').visible())
new Effect.SlideUp('login',{duration:0.25});else
new Effect.SlideDown('login',{duration:0.25});}},loginFailure:function(){alert('fail');},checkLoginInputs:function(check_arr){var i;for(i=0;i<check_arr.length;i++){var label=$(check_arr[i]+'_group').getElementsByTagName('label')[0];if(!$F('login_'+check_arr[i]))
label.className="error";else
label.className="";}},login:function(){var check_these=['user_name','password'];this.checkLoginInputs(check_these);OkLoginJoin.login($F('login_user_name'),$F('login_password'),{success_redirect:'/home',failure_cb:SV1.loginFailure});}});function isSV1(){if(document.body.id=="p_signup_v1"){SV1=new SignupV1();SV1.init();}}
util.doOnDomLoad(isSV1);
			AUTOCORE_SELF_CHECK = null;
		
addNewCoresToCookie(["7", "9", "50", "108"], "44f0be9a");